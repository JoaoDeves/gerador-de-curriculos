# PHP

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Curr√≠culos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <nav class="navbar navbar-dark bg-primary no-print">
        <div class="container">
            <span class="navbar-brand mb-0 h1">Gerador de Curr√≠culos</span>
        </div>
    </nav>

    <div class="container mt-4 no-print" id="formularioContainer">
        <div class="row">
            <div class="col-md-8 mx-auto">
                <div class="card shadow">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0">Preencha seus dados</h4>
                    </div>
                    <div class="card-body">
                        <form id="curriculoForm" method="POST" action="php/gerar_curriculo.php">
                            <!-- dados pessoais -->
                            <h5 class="mb-3">Dados Pessoais</h5>
                            
                            <div class="mb-3">
                                <label for="nome" class="form-label">Nome Completo *</label>
                                <input type="text" class="form-control" id="nome" name="nome" required placeholder="Ex: Ronaldo Moraes">
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="dataNascimento" class="form-label">Data de Nascimento *</label>
                                    <input type="date" class="form-control" id="dataNascimento" name="dataNascimento" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="idade" class="form-label">Idade</label>
                                    <input type="text" class="form-control" id="idade" name="idade" readonly placeholder="Calculado automaticamente">
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="email" class="form-label">E-mail *</label>
                                    <input type="email" class="form-control" id="email" name="email" required placeholder="Ex: ronaldo.m@email.com">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="telefone-js" class="form-label">Telefone *</label>
                                    <input type="tel" class="form-control" id="telefone-js" name="telefone" maxlength="15" required placeholder="(99) 99999-9999">
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="endereco" class="form-label">Endere√ßo</label>
                                <input type="text" class="form-control" id="endereco" name="endereco" placeholder="Ex: Rua Palmeiras, 315">
                            </div>

                            <div class="mb-3">
                                <label for="objetivo" class="form-label">Objetivo Profissional</label>
                                <textarea class="form-control" id="objetivo" name="objetivo" rows="3" placeholder="Descreva seu objetivo profissional..."></textarea>
                            </div>

                            <!-- forma√ß√£o acad√™mica -->
                            <hr>
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h5 class="mb-0">Forma√ß√£o Acad√™mica</h5>
                                <button type="button" class="btn btn-success btn-sm" id="addFormacao">
                                    + Adicionar
                                </button>
                            </div>
                            
                            <div id="formacoesContainer">
                                <div class="formacao-item border p-3 mb-3 rounded">
                                    <div class="mb-3">
                                        <label class="form-label">Curso</label>
                                        <input type="text" class="form-control" name="formacao[]" placeholder="Ex: Odontologia">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Institui√ß√£o</label>
                                        <input type="text" class="form-control" name="instituicao[]" placeholder="Ex: Faculdade Estadual do Rio">
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Per√≠odo</label>
                                            <input type="text" class="form-control" name="periodoFormacao[]" placeholder="Ex: 2020 - 2024">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- experi√™ncias profissionais -->
                            <hr>
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <h5 class="mb-0">Experi√™ncias Profissionais</h5>
                                <button type="button" class="btn btn-success btn-sm" id="addExperiencia">
                                    + Adicionar
                                </button>
                            </div>
                            
                            <div id="experienciasContainer">
                                <div class="experiencia-item border p-3 mb-3 rounded">
                                    <div class="mb-3">
                                        <label class="form-label">Cargo</label>
                                        <input type="text" class="form-control" name="cargo[]" placeholder="Ex: Suporte de TI">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Empresa</label>
                                        <input type="text" class="form-control" name="empresa[]" placeholder="Ex: ACME Ltda">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Per√≠odo</label>
                                        <input type="text" class="form-control" name="periodoExp[]" placeholder="Ex: Jan 2020 - Dez 2022">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Descri√ß√£o das atividades</label>
                                        <textarea class="form-control" name="descricaoExp[]" rows="2" placeholder="Descreva suas atividades..."></textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- bot√£o de envio -->
                            <hr>
                            <div class="d-grid gap-2">
                                <button type="submit" class="btn btn-primary btn-lg">Gerar Curr√≠culo</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="text-center mt-5 mb-3 text-muted no-print">
        <small>Gerador de Curr√≠culos - Projeto Pr√°tico em PHP e JavaScript</small>
    </footer>

    <!-- depend√™ncias -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/script.js"></script>
</body>
</html>



# PHP GERAR CURR√çCULO

<?php
// caputra dados
$nome = htmlspecialchars($_POST['nome'] ?? '');
$dataNascimento = $_POST['dataNascimento'] ?? '';
$idade = htmlspecialchars($_POST['idade'] ?? '');
$email = htmlspecialchars($_POST['email'] ?? '');
$telefone = htmlspecialchars($_POST['telefone'] ?? '');
$endereco = htmlspecialchars($_POST['endereco'] ?? '');
$objetivo = htmlspecialchars($_POST['objetivo'] ?? '');

// forma√ß√£o e experi√™ncia
$formacoes = $_POST['formacao'] ?? [];
$instituicoes = $_POST['instituicao'] ?? [];
$periodosFormacao = $_POST['periodoFormacao'] ?? [];

$cargos = $_POST['cargo'] ?? [];
$empresas = $_POST['empresa'] ?? [];
$periodosExp = $_POST['periodoExp'] ?? [];
$descricoesExp = $_POST['descricaoExp'] ?? [];

?>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Curr√≠culo de <?php echo $nome; ?></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #fff;
            color: #000;
        }
        h1, h2, h3 {
            color: #003366;
        }
        hr {
            border-top: 2px solid #003366;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        .no-print {
            margin-bottom: 20px;
        }
        @media print {
            .no-print {
                display: none !important;
            }
            body {
                background: #fff !important;
                color: #000 !important;
            }
        }
    </style>
</head>
<body class="container mt-4">

    <!-- bot√µes -->
    <div class="no-print mb-3">
        <button class="btn btn-primary" onclick="window.print()">üñ®Ô∏è Imprimir / Salvar como PDF</button>
        <a href="../index.php" class="btn btn-secondary">‚Üê Voltar</a>
    </div>

    <!-- cabe√ßalho -->
    <h1><?php echo $nome; ?></h1>
    <p><strong>Idade:</strong> <?php echo $idade ? $idade . " anos" : ''; ?></p>
    <p><strong>E-mail:</strong> <?php echo $email; ?></p>
    <p><strong>Telefone:</strong> <?php echo $telefone; ?></p>
    <p><strong>Endere√ßo:</strong> <?php echo $endereco; ?></p>

    <!-- objetivo -->
    <?php if ($objetivo): ?>
        <hr>
        <h2>Objetivo Profissional</h2>
        <p><?php echo nl2br($objetivo); ?></p>
    <?php endif; ?>

    <!-- forma√ß√£o -->
    <?php if (!empty($formacoes)): ?>
        <hr>
        <h2>Forma√ß√£o Acad√™mica</h2>
        <?php for ($i = 0; $i < count($formacoes); $i++): ?>
            <?php if (!empty($formacoes[$i])): ?>
                <p>
                    <strong>Curso:</strong> <?php echo htmlspecialchars($formacoes[$i]); ?><br>
                    <strong>Institui√ß√£o:</strong> <?php echo htmlspecialchars($instituicoes[$i] ?? ''); ?><br>
                    <strong>Per√≠odo:</strong> <?php echo htmlspecialchars($periodosFormacao[$i] ?? ''); ?>
                </p>
            <?php endif; ?>
        <?php endfor; ?>
    <?php endif; ?>

    <!-- experi√™ncia -->
    <?php if (!empty($cargos)): ?>
        <hr>
        <h2>Experi√™ncias Profissionais</h2>
        <?php for ($i = 0; $i < count($cargos); $i++): ?>
            <?php if (!empty($cargos[$i])): ?>
                <p>
                    <strong>Cargo:</strong> <?php echo htmlspecialchars($cargos[$i]); ?><br>
                    <strong>Empresa:</strong> <?php echo htmlspecialchars($empresas[$i] ?? ''); ?><br>
                    <strong>Per√≠odo:</strong> <?php echo htmlspecialchars($periodosExp[$i] ?? ''); ?><br>
                    <strong>Descri√ß√£o:</strong> <?php echo nl2br(htmlspecialchars($descricoesExp[$i] ?? '')); ?>
                </p>
            <?php endif; ?>
        <?php endfor; ?>
    <?php endif; ?>

    <script>
        // --- abre janela de impress√£o ---
        window.onload = function() {
            window.print();
        };
    </script>
</body>
</html>

# CSS ESTILO

body {
    background-color: #23286d;
    font-family: Arial, sans-serif;
}

.card {
    border: none;
    margin-bottom: 30px;
}

.experiencia-item, .referencia-item {
    background-color: #f8f9fa;
    position: relative;
}

.btn-remove {
    position: absolute;
    top: 10px;
    right: 10px;
}

footer {
    padding: 20px 0;
}

/* estilos para impress√£o */
@media print {
    .no-print {
        display: none !important;
    }
    
    body {
        background-color: white;
    }
    
    .container {
        max-width: 100%;
    }
}

.curriculo-preview {
    background-color: rgba(12, 11, 63, 0.589);
    padding: 40px;
    margin: 20px auto;
    max-width: 800px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

.curriculo-header {
    border-bottom: 3px solid #0d6efd;
    padding-bottom: 20px;
    margin-bottom: 30px;
}

.curriculo-header h1 {
    color: #0d6efd;
    margin-bottom: 10px;
}

.curriculo-section {
    margin-bottom: 30px;
}

.curriculo-section h3 {
    color: #0d6efd;
    border-bottom: 2px solid #0d6efd;
    padding-bottom: 10px;
    margin-bottom: 20px;
}

.curriculo-item {
    margin-bottom: 20px;
}

.curriculo-item h5 {
    color: #333;
    margin-bottom: 5px;
}

.curriculo-item p {
    margin-bottom: 5px;
    color: #666;
}


# JAVASCRIPT

$(document).ready(function() {

    // calcular idade automaticamente
    $('#dataNascimento').on('change', function() {
        const dataNascimento = new Date($(this).val());
        const hoje = new Date();

        let idade = hoje.getFullYear() - dataNascimento.getFullYear();
        const mes = hoje.getMonth() - dataNascimento.getMonth();

        if (mes < 0 || (mes === 0 && hoje.getDate() < dataNascimento.getDate())) {
            idade--;
        }

        $('#idade').val(idade + ' anos');
    });

    // adicionar forma√ß√£o acad√™mica
    $('#addFormacao').click(function() {
        const novaFormacao = `
            <div class="formacao-item border p-3 mb-3 rounded position-relative">
                <button type="button" class="btn btn-danger btn-sm btn-remove removeFormacao">√ó</button>
                <div class="mb-3">
                    <label class="form-label">Curso</label>
                    <input type="text" class="form-control" name="formacao[]" placeholder="Ex: Administra√ß√£o">
                </div>
                <div class="mb-3">
                    <label class="form-label">Institui√ß√£o</label>
                    <input type="text" class="form-control" name="instituicao[]" placeholder="Ex: Universidade Federal">
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label">Per√≠odo</label>
                        <input type="text" class="form-control" name="periodoFormacao[]" placeholder="Ex: 2020 - 2024">
                    </div>
                </div>
            </div>
        `;
        $('#formacoesContainer').append(novaFormacao);
    });

    // remover forma√ß√£o
    $(document).on('click', '.removeFormacao', function() {
        $(this).closest('.formacao-item').remove();
    });

    // adicionar experi√™ncia profissional
    $('#addExperiencia').click(function() {
        const novaExperiencia = `
            <div class="experiencia-item border p-3 mb-3 rounded position-relative">
                <button type="button" class="btn btn-danger btn-sm btn-remove removeExperiencia">√ó</button>
                <div class="mb-3">
                    <label class="form-label">Cargo</label>
                    <input type="text" class="form-control" name="cargo[]" placeholder="Ex: Analista de TI">
                </div>
                <div class="mb-3">
                    <label class="form-label">Empresa</label>
                    <input type="text" class="form-control" name="empresa[]" placeholder="Ex: ACME Ltda">
                </div>
                <div class="mb-3">
                    <label class="form-label">Per√≠odo</label>
                    <input type="text" class="form-control" name="periodoExp[]" placeholder="Ex: Jan 2020 - Dez 2022">
                </div>
                <div class="mb-3">
                    <label class="form-label">Descri√ß√£o das atividades</label>
                    <textarea class="form-control" name="descricaoExp[]" rows="2" placeholder="Descreva suas principais atividades..."></textarea>
                </div>
            </div>
        `;
        $('#experienciasContainer').append(novaExperiencia);
    });

    // remover experi√™ncia
    $(document).on('click', '.removeExperiencia', function() {
        $(this).closest('.experiencia-item').remove();
    });

    // mascara telefone
    document.getElementById("telefone-js").addEventListener("keypress", function(event) {
        const key = event.key;
        if (!/[0-9()\ -]/.test(key)) {
            event.preventDefault();
        }
    });

    // envio do formul√°rio
    $('#curriculoForm').on('submit', function() {
        console.log("üìÑ Enviando formul√°rio para gerar_curriculo.php via PHP...");
    });
});
